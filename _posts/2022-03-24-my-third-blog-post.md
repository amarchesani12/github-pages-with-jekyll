---
title: "UNI Softball Study: What Factors are Most Important for Hitting a Softball"
date: 2022-03-23
---

The purpose of this analysis is to determine which variables have the biggest impact on either distance or whether a ball hit would be a home run. The response variable I used for my multiple regression model was distance measured in feet. I also created a binary response variable named ‘HomeRun’ which had a value of 1 if a batted ball was determined to be a home run, and 0 otherwise. The statistical methods used in this analysis include a multiple regression model fitting ten total predictors and reducing the model down to seven predictors. I also used a logistic regression model fitting the same ten predictors, and then creating another reduced logistic regression model that only used the 2 significant predictors from the first model. In addition, I used decision trees, random forests, and support vector machines with various kernels to determine the response variable. All models were used to predict the odds of either distance or whether a hit would be a home run depending on the type of model. I used training data and testing data, with percentages of 75% and 25%, respectively. The results show that for distance, the most significant variables are exit speed, launch angle, spin, a high pitch, and balls located in strike zone areas 2 or 3. For the binary home run response variable, the two significant predictors were constantly shown to only be exit speed and launch angle.
Introduction
In today’s world, baseball is widely known as a data-driven sport. Technology and analytics play a role more now than ever before. Most people use the term ‘sabermetrics’ to define the way the game is played. The word, originally defined by Bill James to honor the Society for American Baseball Research, means the search for objective knowledge about baseball through the use of advanced statistics. The sabermetric movement took the baseball world by storm when the 2002 Oakland Athletics team finished with the second-best record in the American League and went to the American League Division Series after having the third lowest payroll in all of baseball. Made popular by the movie “Moneyball,” the team used unique statistics and methods to find undervalued players that could help win games. Ever since that team, front offices in all sports have been investing in analytics teams to evaluate and develop talent. This has resulted in a shift from the top teams being those who have the highest payroll, to the top teams having the best analytics and scouting departments. For example, this year the Tampa Bay Devil Rays made it to the world series after having a total payroll of $28 million compared to their opponent who had a total payroll of $108 million. 
Even though most other sports have been diving into analytics and player development, softball seems to be well behind most other sports despite it being the closest relative to baseball in the sports world. My goals for this research was to see if there are any differences in batted ball metrics between baseball and softball. As stated above, baseball has lots of information on what is important when you hit the ball, and I wanted to see if the same concept apply to softball. Another goal of mine was to see if launch angle and exit velocity alone are the best predictors for hitting a home run. As a baseball coach, I have heard countless times coaches telling players if you hit the ball at least 90 miles per hour and 25-35° launch angle it will be a favorable result. With over 30 predictors in my main dataset to choose from, I predicted that there would be at least a couple more predictors that would be significant when building a model to predict home runs using only batted ball metrics. 


Data

The dataset I used for this analysis was provided to me by the University of Northern Iowa softball team. All batted ball data was gathered using a device called Rapsodo. It uses high speed radar technology to capture different metrics on the ball as it is hit. For the dataset, it included all batted balls hit in practice by UNI Softball players over a one-month span in January of 2020. This data was taken after a three-month offseason hitting program where the players focused on increasing exit velocity and improving their launch angle areas in an attempt to hit more home runs. After removing all misreads from the machine, the final dataset had 1137 total swings among twenty players. There was a total of 26 variables included in the original dataset, but I will only be discussing those that were used in my models.
For my multiple regression, the response variable was distance measured in feet from home plate that the softball was predicted to travel. For all other models, the response variable used was called ‘homerun.’ This value would be 1 when the ball was determined to be a home run, and 0 otherwise. The first explanatory variable I used was called ‘Zone.’ I created this variable in the Excel sheet before uploading it to R. Zone is a number 1 through 4 denoting where a pitch is in the strike zone. The quadrants are all equal size, where 1 is in the top left from the catcher’s viewpoint. Zone 2 is the top right, zone 3 is the bottom left, and zone 4 is the bottom right. I then added a zone 5 for all pitches that could not be classified in the zones mentioned above (in other words, pitches that are considered balls). Next, I used launch angle which measures the vertical angle the ball leaves the bat after being hit. 0° would be a line running parallel to the ground. In general, balls below 0° would be considered ground balls, and balls above 0° would be considered fly balls (this can be broken down even more). The third variable I included was exit speed, which measures how fast the ball was coming off the hitter’s bat when contact was made. This is measured in miles per hour. Next, I included total spin in revolutions per minute. This is the rate at which the ball is spinning and is normally displayed as a number in the thousands. I also included two location dummy variables of inside and high. Inside was labeled ‘Yes’ if the pitch was in zones 1 or 3 for a right-handed batter and 2 or 4 for a left-handed batter. High was ‘Yes’ when a pitch was in zones 1 or 2. I included these because I predicted both would be significant in hitting home runs. The last variable I included in my models was launch direction. This is a measurement of how far left or right the ball is hit. 0° launch direction would be a ball hit right up the middle over second base. Negative values are balls that were hit to left field, and positive values represent balls hit to right field. 

Methodology

The first time running my multiple regression, I used all seven predictors. After observing the p-values of the first model, it showed that two variables could be removed: launch direction and the inside dummy variable. I created a new model, and using the gvlma() function in R, I was able to check the assumptions for this model. 3 of the 5 assumptions were satisfied which was an improvement from the initial model in which 0 of the 5 were satisfied. The adjusted r-squared value of this reduced model was 0.76, which is a good value for the given model. I needed to make one last adjustment to my model before it was complete, however. I changed the ‘Zone’ predictor into four separate columns of Z1, Z2, Z3, and Z4. This allowed me to only put the balls located in those zones in the model. I feared the zone 5 was diluting my data because it was not necessarily a location, but a holder for all locations that were not the four mentioned above. When putting only the 4 zone variables in, I hoped to improve my r-squared value slightly. The final multiple regression model showed that the significant variables that can help predict distance of softball are exit speed, launch angle, spin, high pitches, and pitches in zones 2 and 3. 
Next, I used this model to construct 95% confidence intervals as well as prediction intervals for 2 swings that were collected after the dataset was complete and were not included in the making of the model. The first prediction was on a ball hit with an exit speed of 58.2 MPH, launch angle of 22°, spin of 3155, and located in zone 1. The model predicted the ball would go 116 feet. In reality, the ball went 112 feet. For the second prediction swing I used, the exit speed was 63.2 MPH, launch angle of -18°, spin of 2784, and located in zone 3. This predicted a value of 52 feet, when the ball actually went 8 feet. The reasoning for this will be discussed in the results and analysis section.
After completing my multiple regression model with distance as the response variable, I wanted to shift gears to see if changing that variable to home run would impact the significant predictors. Additionally, I was interested to see if the off-season program the coaches implemented was effective in teaching what was important and what was not. First, I split the data into a training set and a testing set which contained 75% and 25% of the data, respectively. I then created a logistic regression model using all seven predictors to start with. The results of this showed that the only significant predictors were exit velocity and launch angle. Unlike the multiple regression, high or any of the zones were not significant which I found to be interesting. From this model, I created a reduced logistic regression model that just included exit velocity and launch angle as the predictors. I used my testing data to see how well this newly created model performs compared to the other models I made
The next model I created was a classical decision tree with all predictors involved. Like the logistic regression models, I created a confusion matrix from the testing data to see how it performs. A random forest was also created in a similar way after the decision tree. The random forest used 500 trees in it. Lastly, I created four support vector machines with different kernels not just to compare to the other model types, but to also compare against each other. The kernels I used were radial, first degree polynomial, second degree polynomial, and linear. All models were then compared to each other based on how well they were able to predict home runs in the testing set.

Results and Analysis

The final multiple regression model to predict distance had 6 variables of significance: Exit speed, launch angle, spin, high pitches, pitches in zone 2, and pitches in zone 3. All were significant at the 5% level except for zone 3. One interesting note from the model I noticed was the intercept of -102. I expected that value to be negative, but the extent of it was a little bit surprising to me. The only negative coefficient was balls located in zone 2. According to the model, we should expect a decrease of 5 feet if the ball is hit in zone 2. Another observation I made was that a pitch that was considered high (zones 1 or 2) increased the expected distance by almost 15 feet. As a baseball and softball person, this makes sense. Typically, balls that are higher in the zone are easier to get into the air, and hitting the ball in the air will tend to increase distance. The one thing that my model does not consider is that the whiff percentage in the top part of the strike zone is significantly higher compared to the other parts. This means that making contact in those high zones will be hard to do. If it can be achieved, the benefit to a hitter will be a large increase in distance.
Using the prediction intervals for the two swings I tested, my model was able to closely estimate the distance on the first one and miss the second one by quite a bit. The first swing was within 4 feet of the actual distance (116 predicted vs. 112 actual). However, for my second swing, the actual distance was off by around 35 feet (43 predicted vs. 8 actual). I chose this second swing because I wanted to see how my model did with ground balls. The -18° launch angle means that the ball was hit down into the ground instead of in the air. My model was overshooting by a lot. This can be due to two reasons. The first could be that it relies too heavily on exit speed. The second swing I predicted had a higher exit velocity than the first, and the model’s most important predictor is exit velocity. The second reason could be that it does not accurately account for launch angle. Coaches know that launch angle and distance is not a linear relationship. There is a certain degree range where distance is maximized, and then as the angle increases, the distance would go back down. This is a linear model, so trying to express that relationship could also be a challenge and why the second predicted swing was off by a substantial amount. 
For the models I created where the response variable was home run or not, my main goal was to see which type of model performed the best on the testing set that I used it on. As stated earlier, the logistic regression showed that exit velocity and launch angle were the only significant predictors. When testing the model, I kept one of my models with all the predictors in it, and I also created a new model that consisted of just exit velocity and launch angle as the predictors. The error matrix for the full logistic regression model showed an overall error rate of 4% which sounds very good at first (in other words, it is 96% accurate). However, the home run rate for most teams is around 4% for all at-bats. If a closer look is taken at the error matrix, the testing data had 11 actual home runs. The model was only able to correctly identify two of them, for an error rate of 82% for just predicting home runs. In other words, the model would have a very good chance of getting the prediction right if it said every ball was not predicted to be a home run. If that would have been the case for this model, the overall error rate would have been 3.94%. Because of this fact, I wanted to focus on just the error rate of the home run class (1 in my model).
With my reduced logistic model, I was hoping it would perform better because it got rid of the insignificant predictors. My hope was to eliminate some of the noise the extra variables were creating that could possibly influence the home run class error rate. It is important to note here that all the logistic regression models, random forests, decision trees, and support vector machines used the same training and same testing data that way they could be compared directly to each other. The reduced model, to my surprise, showed an even worse overall error rate and class error rate for home runs. The total error rate was 4.6%, and the class error rate was 91%. It was only able to correctly predict 1 home run out of the 11 that were hit. In addition, it incorrectly categorized 3 balls that were not home runs as home runs. My best explanation for this would be back to the launch angle argument I stated earlier. I hoped that a decision tree and random forest would improve after seeing these results because those types of models allow for a “bucket separation” where it splits based on a single value of a predictor. Before running my decision tree, I predicted the decision tree would have better success because it could have 2 splits with one being the lower end of the launch angle (25°) and another split could be for the higher end (35°). 
The decision tree created by the rattle() function showed much more promise. The first split dealt with exit velocity, which makes sense because it is common sense (for most people) that hitting the ball harder is better. The value cutoff for the split was 63.15 MPH. This is saying to hit a home run, you must be able to hit the ball at least 63.15 miles per hour. This was the first piece of information I felt could be applicable to the coaches. It could be stated in a simple way to the players that if you want to hit a home run, you must hit it at least that hard. With the Rapsodo machine up and running at most of their practices, it provides instant feedback so players can see their exit speed after each hit and see whether they hit it hard enough. To no surprise, the next split deal with launch angle. The cutoff value for that split was 22.8°. Again, this makes sense based on what the coaches had been teaching over their offseason training. If the ball does not leave the bat at 22.8° or higher, the chance of a home run is greatly decreased. The next split surprised me because it had to do with a variable not widely used. Spin was determined to be a branch where the split was at 1728.5 RPMs. I disregarded this branch for the most part because even if this information is true, it is almost impossible to train how much spin a player imparts on a softball. Unlike pitching where the pitcher can put spin on the ball, a batter hitting a ball is at the mercy of her bat and the quality of contact. Centimeters make the difference between a no-doubter home run, and a routine flyout. The last branch included was again for exit velocity. This time, the value was 66.5 MPH. My understanding for this last value is that the balls that got by the first split of 63.15 must be hit at the perfect angle to be a home run. The tree shows that it is still possible to hit a home run with 63.5 to 66.5 MPH ball speed, but balls that were hit in that range were only home runs 23% of the time when the batted ball observation got down to that branch. 
The error matrix showed a lot more promise for this decision tree compared to the logistic regression models. It correctly predicted 6 of the 11 home runs in the testing set. It also correctly predicted 265 of the 268 non home runs for an overall error rate of 2.8%. This is better, but the value I am looking at is class error rate of the home runs. The decision tree’s error rate for the home run class was 45.5%, almost decreasing the error rate by half. The tree still did not take launch angle into consideration as much as I expected, but the second exit velocity branch improved the model enough where some of the misreads from the first two models would not be able to get through this model.
The random forest was run in a similar way. The number of trees was 500, and there were two variables tried at each split. When looking at the variable importance on the forest, the leading predictor was exit speed followed by launch angle and spin. The one surprise variable that ranked right beneath spin was launch direction which was surprising to see. It had not been a significant predictor in any of my earlier models but was now showing up right as important as spin. It was also well ahead of the ‘high’ variable which had shown to be significant in my first multiple regression model. The results showed a worse model than the one decision tree in terms of error rate. The overall error rate was 3.2%, an improvement from the regression models. The class error rate was 72.7% however, only predicting 3 of the 11 home runs correctly. 
The last models I created were support vector machines using four different types of kernels. The goal of a SVM is to find a hyperplane to separate the data into two different classes (in our case, home run vs. no home run). The first kernel I ran was a linear or vanilla kernel. The overall error rate for this model was 3.9%. Looking at the class error rate, it showed a 100% error rate meaning it did not correctly predict one of the eleven home runs. Next, I used a first-degree polynomial, which has an additional parameter from the linear kernel. Even with that additional parameter, I got the exact same overall error rate and class error rate. I ran a radial kernel as well and got the same results again. I was starting to think that there was not going to be a difference in the kernels. I wanted to try one last polynomial kernel with a degree of 2 instead of 1, and I finally got some better results. The second-degree polynomial kernel showed an overall error rate of 3.2% and was able to correctly predict 5 of the 11 home runs for a class error rate of 54.5%. This is still not as good as the decision tree, but a substantial step forward from the previous three models. 
Looking at the overall error rates along with the home run class error rates, it is clear the best choice for predicting home runs is a decision tree. It would not be a good idea to solely rely on that for training purposes as the error rate is still relatively high for the class. Looking back on my initial question I asked to start this research, I believe I can make a definitive statement that baseball and softball training are similar and can be trained similarly when looking at batted ball metrics. The most important predictors are exit speed and launch angle in that order. There are other predictors such as spin and launch direction that are important, but those can be hard to train. Additionally, the zone or zones at which a pitch enters the strike zone can be significant, but it would not work to create a generalized model with locations that are best to hit for the team as a whole. According to the results, the coaches were right in teaching the ideal launch angle is somewhere in the low 20’s to low 30’s to maximize potential for home runs.

Application and Limitations

How can these results be used to further aid in development for softball players? First, it shows that players do not need to understand the complicated models or metrics and can just focus on two simple numbers to improve their performance when hitting. The simpler a coach can explain a concept to his or her players, the easier it could be to implement. One idea that can be used to further this dataset and research would be to pair these batted ball metrics with metrics on the swing. There are devices that measure bat metrics such as bat speed, attack angle, etc. If teams can pair swings on the Rapsodo machine with swings on the device for bat metrics, more correlations and conclusions could be made about factors that influence home runs or distance in general.
I believe there is still a whole area to explore as the sport is not as data driven as baseball. The hitting for both sports is very similar, so most of the concepts can be explained in the same way, just with numbers adjusted for softball players. One side that I would like to explore more next is the pitching side for softball. That would be the one area that is drastically different between the two sports. In baseball, pitching analytics is much more advanced and prevalent than hitting. For softball, there is very little to begin with, but most of it is on the hitting side and not much has been done on the pitching side. One limitation of note for these models is that some of the variables were created in either Excel or R. Most importantly, I had to create the home run binary variable in Excel, so the balls were not necessarily actual home runs on a softball field. This could improve the accuracy of the model by having plain evidence whether a ball is a home run or not instead of trying to guess based on dimension size of the field and other metrics. 
I would like to thank UNI Softball coaches Ryan Jacobs, JJ Reimer, and all the players on the UNI Softball team for letting me use their data for my analysis. I would also like to thank Dr. Marius Somodi for being a mentor as I go through this statistical analysis project. I hope to continue to research, write, and hopefully publish content for player development in softball or baseball, and this project is the first step in making that a reality. 
